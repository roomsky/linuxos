<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            background-color: #f4f4f4;
        }

        .chat-container {
            width: 400px;
            margin: auto;
            background-color: #fff;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .message {
            padding: 10px;
            margin: 5px;
            border-radius: 8px;
            max-width: 70%;
        }

        .person-a {
            background-color: #bdecb6;
            text-align: left;
            float: left;
            min-width: 205px; /* 添加最小宽度 */
        }

        .person-b {
            background-color: #e4e4e4;
            text-align: left;
            float: right;
            min-width: 205px; /* 添加最小宽度 */
        }

        .name {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .message img {
            max-width: 100%;
            border-radius: 8px;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <div class="message person-a">
            <div class="name">明明</div>
            shell你晓得不？
        </div>
        <div class="message person-b">
            <div class="name">白白</div>
            晓得，但只晓得亿点点。
        </div>
        <div class="message person-a">
            <div class="name">明明</div>
            我看看怎么个事儿（摇头）
        </div>
        <div class="message person-b">
            <div class="name">白白</div>
            ....Shell是一个命令解释器，它的作用是解释执行用户输入的命令及程序等。 用户每输入一条命令，Shell就执行一条。这种从键盘输入命令，就可以立即得到回应的对话方式，称为交互的方式。
        </div>
        <div class="message person-a">
            <div class="name">明明</div>
			然后呢？
        </div>
        <div class="message person-b">
            <div class="name">白白</div>
			当命令或程序语句不在命令行下执行，而是通过一个程序文件来执行时，该程序文件就被称为Shell脚本。
         </div>
        <div class="message person-a">
            <div class="name">明明</div>
            斯...那Shell脚本都有啥组成啊？
			</div>
        <div class="message person-b">
            <div class="name">白白</div>
            好问题，它由一系列Shell命令和控制结构组成，通常包含以下要素：<br>
1.行（#!）： 这是脚本文件的第一行，用来指定脚本解释器。#!/bin/bash 表示脚本将由Bash解释器执行。<br>
2.注释（#）： 用于添加注释，提高代码可读性。注释行以 # 开头，可以位于脚本的任何位置。<br>
3.变量定义： 用于存储数据或命令的结果。变量名通常使用大写字母。<br>
4.命令执行： 执行Shell命令，并将结果存储在变量中（如果需要的话）。<br>
5.条件语句（if...then...else...fi）： 根据条件执行不同的命令块。<br>
6.循环结构（for、while）： 用于重复执行一组命令。<br>
7.函数定义： 封装一系列命令，以便在脚本中多次调用等等。<br>

        </div>
        <div class="message person-a">
            <div class="name">明明</div>
            看起来有点复杂
        </div>
        <div class="message person-b">
            <div class="name">白白</div>
            怕啥，请允许我娓娓道来。常见的shell分为两大主流：<br>
1.sh:<br>
Bourne shell (sh) ,Solaris,hpux默认shell<br>
Bourne again shell (bash) ,Linux系统默认shell<br>
2.csh:<br>
C shell(csh)<br>
tc shell(tcsh)<br>
            
        </div>
        <div class="message person-a">
            <div class="name">明明</div>
            那怎么查看系统默认的是啥啊？
			用cat？
        </div>
        <div class="message person-b">
            <div class="name">白白</div>
           恭喜你都学会抢答了。速度很快！可惜不对
        </div>
		<div class="message person-a">
            <div class="name">明明</div>
            ...你就说快不快吧！
        </div>
        <div class="message person-b">
            <div class="name">白白</div>
            哈哈。<br/>查看系统默认的shell: echo $SHELL<br/>查看系统支持的shell: cat /etc/shells 学废了吗？
			
        </div>
		<div class="message person-a">
            <div class="name">明明</div>
			那该怎么使用shell呢？
        </div>
        <div class="message person-b">
            <div class="name">白白</div>
           1.shell编程注意事项<br/>
           2.shell脚本名称命名一般为英文、大写、小写，后缀以.sh 结尾<br/>
		   3.不能使用特殊符号、空格<br/>
           4.见闻之意，名称要写的一眼可以看出功能<br/>
		   5.shell编程首行需要#!/bin/bash开头<br/>
           6.shell脚本变量不能以数字、特殊符号开头，可以使用下划线_,但不能用破折号-<br/>
        </div>
		<div class="message person-a">
		    <div class="name">明明</div>
			扫噶！
		</div>
		<div class="message person-b">
		    <div class="name">白白</div>
		    学累了吗？shell环境变量还想不想听？
		</div>
		<div class="message person-a">
		    <div class="name">明明</div>
		    不累！请继续！
		</div>
		<div class="message person-b">
		    <div class="name">白白</div>
		    好！很有精神！<br/>

Shell编程中变量分为三种，分别是系统变量、环境变量和用户变量。




		</div>
		<div class="message person-b">
		    <div class="name"></div>
		   系统变量<br>
		   $0 		当前脚本的名称；<br>
		   $n 		当前脚本的第n个参数,n=1,2,…9；<br>
		   $* 		当前脚本的所有参数(不包括程序本身)；<br>
		   $# 		当前脚本的参数个数(不包括程序本身)；<br>
		   $? 		令或程序执行完后的状态，返回0表示执行成功；<br>
		   $$ 		程序本身的PID号。<br>
		   
		</div>
		<div class="message person-b">
		    <div class="name"></div>
		 用户变量<br>
		 a=rivers 				       自定义变量A；<br>
		 Httpd_sort=httpd-2.4.6-97.tar  自定义变量N_SOFT；<br>
		 BACK_DIR=/data/backup/         自定义变量BACK_DIR；<br>
		 IPaddress=10.0.0.1			   自定义变量IP1；
		 

		    
		</div>
		<div class="message person-b">
		    <div class="name"></div>
		  那至于最常用的环境变量呢？斯..这个嘛..咳咳咳（伸手）
		    
		</div>
		<div class="message person-a">
		    <div class="name">明明</div>
		    给！（5毛钱）
		</div>
		
		<div class="message person-b">
		    <div class="name">白白</div>
			好，请允许我继续散发魅力。<br>
		   环境变量介绍<br>
		   PATH  		命令所示路径，以冒号为分割；<br>
		   HOME  		打印用户家目录；<br>
		   SHELL 		显示当前Shell类型；<br>
		   USER  		打印当前用户名；<br>
		   ID    		打印当前用户id信息；<br>
		   PWD   		显示当前所在路径；<br>
		   TERM  		打印当前终端类型；<br>
		   HOSTNAME    显示当前主机名；<br>
		   PS1         定义主机命令提示符的；<br>
		   HISTSIZE    历史命令大小，可通过 HISTTIMEFORMAT 变量设置命令执行时间;<br>
		   RANDOM      随机生成一个 0 至 32767 的整数;<br>
		   HOSTNAME    主机名。

		</div>
		
		
		
		<div class="message person-a">
		    <div class="name">明明</div>
		    感觉好难记住啊
		</div>
		<div class="message person-b">
		    <div class="name">白白</div>
		    死记硬背肯定不行，用你那电脑有空就动手练练！
		</div>
		<div class="message person-a">
		    <div class="name">明明</div>
		    好，下次一定，接下来学什么呢？
		
		</div>
		<div class="message person-b">
		    <div class="name">白白</div>
		    先把前面的知识巩固好，you konw? 
		</div>
		<div class="message person-a">
		    <div class="name">明明</div>
		    damn~ 我知道
		</div>
		<div class="message person-b">
		    <div class="name">白白</div>
		    好好好！下面讲shell编程控制语句。
		</div>
		
		<div class="message person-b">
		    <div class="name"></div>
			首先嗷，先说下常用的单/双分支。<br>
		    # If条件判断语句，通常以if开头，fi结尾。也可加入else或者elif进行多条件的判断<br><br>
		    
		    # 单分支语句 ---比较大小<br>
		    	if (条件表达式);then<br>
		    		&nbsp;&nbsp;&nbsp;&nbsp;语句1<br>
		    	fi<br><br>
		    
		    # 双分支if 语句<br>
		    	if (表达式)<br>
		    		&nbsp;&nbsp;&nbsp;&nbsp;语句1<br>
		    	else<br>
		    		&nbsp;&nbsp;&nbsp;&nbsp;语句2<br>
		    	fi<br><br>
		    
		    # 多支条件语句 ---判断成绩<br>
		    	if (表达式)<br>
		    		&nbsp;&nbsp;&nbsp;&nbsp;语句1<br>
		    	elif<br>
		    		&nbsp;&nbsp;&nbsp;&nbsp;语句2<br>
		    	elif<br>
		    		&nbsp;&nbsp;&nbsp;&nbsp;语句2<br>
		    	fi  <br>
		    
		    

		</div>
		<div class="message person-a">
		    <div class="name">明明</div>
			分支语句，谁不会啊
		</div>
		<div class="message person-b">
		    <div class="name">白白</div>
		    666！那if中常见判断逻辑运算符也需要了解的：<br>
			-f	 	判断文件是否存在 eg: if [ -f filename ]；<br>
			-d	 	判断目录是否存在 eg: if [ -d dir     ]；<br>
			-eq		等于，应用于整型比较 equal；<br>
			-ne		不等于，应用于整型比较 not equal；<br>
			-lt		小于，应用于整型比较 letter；<br>
			-gt		大于，应用于整型比较 greater；<br>
			-le		小于或等于，应用于整型比较；<br>
			-ge 	大于或等于，应用于整型比较；<br>
			-a		双方都成立（and） 逻辑表达式 –a 逻辑表达式；<br>
			-o		单方成立（or） 逻辑表达式 –o 逻辑表达式；<br>
			-z		空字符串；<br>
			-x      是否具有可执行权限<br>
			||      单方成立；<br>
			&&      双方都成立表达式。<br>

		</div>
		
		<div class="message person-b">
		    <div class="name"></div>
		    感觉如何？少年郎
		</div>
		<div class="message person-a">
		    <div class="name">明明</div>
		    我不到啊 你得问读者，我感觉他会认真学的
		</div>
		<div class="message person-b">
		    <div class="name">白白</div>
		    是吗，希望他会。好好好，话不多说，那么如何使用单分支语句判断crond进程是否在运行？？<br>
		#!/bin/bash<br>
		# this is check crond<br>
		# by author rivers on 2021-9.23<br>
		
		# 定义一个变量名<br>
		name=crond<br>
		num=$(ps -ef|grep $name|grep -vc grep)<br>
		if [ $num -eq 1 ];then<br>
		    &nbsp;&nbsp;&nbsp;&nbsp;echo "$num running!"<br>
		else<br>
		  &nbsp;&nbsp;&nbsp;&nbsp;  echo "$num is not running!"<br>
		fi<br>

		</div>
		<div class="message person-b">
				    <div class="name"></div>
				    再讲一个案例—用if判断系统目录是否存在<br>
					#!/bin/bash<br>
					# this is check directory <br>
					# by author rivers on 2021-9.27 <br>
					 if  [  !  -d  /data/rivers  -a  !  -d  /tmp/rivers  ]；then<br><br>
					 mkdir  -p  /data/rivers  <br>
		fi
				</div>
				
		<div class="message person-a">
		    <div class="name">明明</div>
		    嗯哼~感觉还阔以
		</div>		
				
		<div class="message person-b">
				    <div class="name">白白</div>
				    （大拇哥）那么如何用来判断学生成绩等级呢？我想你已经有了思路<br>
					
					
				</div>		
		
		
		<div class="message person-b">
				    <div class="name"></div>
				    
					  grade=$1<br>
					  if [ $grade -gt 90 ];then<br>
					     &nbsp;&nbsp;&nbsp;&nbsp;  echo "Is's very good!"<br>
					  elif [ $grade -gt 70 ];then<br>
					    &nbsp;&nbsp;&nbsp;&nbsp;   echo "Is's is good!"<br>
					  
					  elif [ $grade -ge 60 ];then<br>
					    &nbsp;&nbsp;&nbsp;&nbsp;   echo "pass"<br>
					  
					  else<br>
					    &nbsp;&nbsp;&nbsp;&nbsp;   echo "no pass"<br>
					  fi
		<br>
				</div>	
					
		<div class="message person-a">
		    <div class="name">明明</div>
		    还好把前面的知识记住了，你说的这些简直easy!
		</div>	
		
	
		
		<div class="message person-b">
		    <div class="name">白白</div>
		   至于for循环语句呢，我知道你知道，但我想让你再知道一下。（理直气壮！）
		   #格式：for name [ [ in [ word ... ] ] ; ] do list ; done<br>
		     for 变量名 in 取值列表; do<br>
		       &nbsp;&nbsp;&nbsp;&nbsp;语句 1<br>
		     done<br>
		
		</div>
		<div class="message person-a">
		    <div class="name">明明</div>
		    嘻嘻
		</div>
		<div class="message person-b">
		    <div class="name">白白</div>
			我想休息，但还要给你写这个例子，唉加油吧！好的我们继续。
		    如何检查同一局域网多台主机是否存活？？？
			</div>
			<div class="message person-b">
			    <div class="name"></div>
			#!/bin/bash<br>
			# check hosts is on/Off<br>
			# by rivers on 20219-23<br>
			
			Network=$1<br>
			for Host in $(seq 1 254)<br>
			do<br>
			ping -c 1 $Network.$Host > /dev/null && result=0 || result=1<br>
			
			if [ "$result" == 0 ];then<br>
			  &nbsp;&nbsp;&nbsp;&nbsp;echo -e "\033[32;1m$Network.$Host is up \033[0m"<br>
			 &nbsp;&nbsp;&nbsp;&nbsp; echo "$Network.$Host" >> /tmp/up.txt<br>
			
			else<br>
			  &nbsp;&nbsp;&nbsp;&nbsp;echo -e "\033[;31m$Network.$Host is down \033[0m"<br>
			  &nbsp;&nbsp;&nbsp;&nbsp;echo "$Network.$Host" >> /tmp/down.txt<br>
			fi<br>
			done<br>

		</div>
		<div class="message person-a">
		    <div class="name">明明</div>
		    辛苦咯！我们一起加油！请继续讲吧
		</div>
		<div class="message person-b">
		    <div class="name">白白</div>
		    你说王子请继续讲
		</div>
		<div class="message person-a">
		    <div class="name">明明</div>
		    王子？你姓王吗（一本正经）
		
		</div>
		
		<div class="message person-b">
		    <div class="name">白白</div>
		    ...<br>
			
		</div>
		<div class="message person-a">
		    <div class="name">明明</div>
		    王老师？	
		
		</div>
		<div class="message person-b">
		    <div class="name">白白</div>
		    至于while循环语句，肯定是少不了的<br><br>
			While循环语句与for循环功能类似，主要用于对某个数据域进行循环读取、对文件进行遍历，
			通常用于需要循环某个文件或者列表，满足循环条件会一直循环，不满足则退出循环，其语法格式以while…do开头，done结尾<br><br>
			与while 关联的还有一个 until 语句，它与 while 不同之处在于，是当条件表达式为 false 时才循环，实际使用中比较少，这里不再讲解。<br><br>
			
			
			
			while  (表达式)<br>
			do<br>
			   &nbsp;&nbsp;&nbsp;&nbsp;语句1<br>
			done<br>
		
		</div>
		
		<div class="message person-b">
		    <div class="name"></div>
		    # break 和 continue 语句<br>
		      break 是终止循环。<br>
		      continue 是跳出当前循环。<br>
		    #示例 1：在死循环中，满足条件终止循环<br>
		    while true; do<br>
		      let N++<br>
		      if [ $N -eq 5 ]; then<br>
		         &nbsp;&nbsp;&nbsp;&nbsp;break<br>
		    fi<br>
		       &nbsp;&nbsp;&nbsp;&nbsp;echo $N<br>
		    done<br>
		    输出： 1 2 3 4<br><br>
		    
		    #示例 2：举例子说明 continue 用法<br>
		    N=0<br>
		    while [ $N -lt 5 ]; do<br>
		       &nbsp;&nbsp;&nbsp;&nbsp;let N++<br>
		    if [ $N -eq 3 ]; then<br>
		       &nbsp;&nbsp;&nbsp;&nbsp;continue<br>
		    fi<br>
		       &nbsp;&nbsp;&nbsp;&nbsp;echo $N<br>
		    done<br><br>
		    
		    输出： 1 2 4<br><br>
		    
		    # 打印 1-100 数字<br>
		    i=0<br>
		    while ((i<=100))<br>
		    do<br>
		             &nbsp;&nbsp;&nbsp;&nbsp;echo  $i<br>
		             &nbsp;&nbsp;&nbsp;&nbsp;i=`expr $i + 1`<br>
		    done<br>
		    

			
		</div>
		<div class="message person-a">
		    <div class="name">明明</div>
		    王老师你好厉害	
		
		</div>
		
		<div class="message person-b">
		    <div class="name">白白</div>
		    我谢谢你<br>
			如何用While循环求1-100的总和<br>
			#!/bin/bash<br>
			# by author rivers on 2021-9-27<br>
			j=0<br>
			i=1<br>
			while ((i<=100))<br>
			do<br>
			     &nbsp;&nbsp;&nbsp;&nbsp; j=`expr $i + $j`<br>
			     &nbsp;&nbsp;&nbsp;&nbsp; ((i++))<br>
			done<br>
			echo $j<br>
			

			
		</div>
		
		<div class="message person-b">
		    <div class="name"></div>
		    每10秒循环判断一次hbs用户是否登录系统<br>
			[root@web-server01~/script]# vim login.sh <br>
			#!/bin/bash<br>
			#Check File to change. <br>
			#By author rivers 2021-9-27<br>
			USERS="hbs"<br>
			while true<br>
			do<br>
			        &nbsp;&nbsp;&nbsp;&nbsp;echo "The Time is `date +%F-%T`"<br>
			       &nbsp;&nbsp;&nbsp;&nbsp; sleep 10<br>
			       &nbsp;&nbsp;&nbsp;&nbsp; NUM=`who|grep "$USERS"|wc -l`<br>
			       &nbsp;&nbsp;&nbsp;&nbsp; if [[ $NUM -ge 1 ]];then<br>
			               &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo "The $USERS is login in system."<br>
			       &nbsp;&nbsp;&nbsp;&nbsp; fi<br>
			done<br>
			

		
			
		</div>
		<div class="message person-a">
		    <div class="name">明明</div>
		   今天先学到这里吧，我要好好复习，第二天继续。
		
		</div>
		
		<div class="message person-b">
		    <div class="name">白白</div>
		    好的
		
			
		</div>
		<div class="message person-b">
		    <div class="name"></div>
		    第二天到了
		
			
		</div>
		<div class="message person-a">
		    <div class="name">明明</div>
		   为什么你输个聊天框就是第二天了啊！！！
		
		</div>
		
		<div class="message person-b">
		    <div class="name">白白</div>
		    第二天到了，我们继续讲case选择语句。<br>
		#Case选择语句，主要用于对多个选择条件进行匹配输出，与if elif语句结构类似，
		通常用于脚本传递输入参数，打印出输出结果及内容<br />其语法格式以Case…in开头，esac结尾。语法格式如下：<br><br>
		case 模式名  in<br>
		   &nbsp;&nbsp;&nbsp;&nbsp;模式 1)<br>
		     &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 命令<br>
		    &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; ;;<br>
		   &nbsp;&nbsp;&nbsp;&nbsp;模式 2)<br>
		    &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; 命令<br>
		    &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; ;;<br>
		*)<br>
		不符合以上模式执行的命令<br>
		esac<br>
		# 每个模式必须以右括号结束，命令结尾以双分号结束。<br>

			
		</div>
		
		
		<div class="message person-b">
		    <div class="name"></div>
		    使用case编写一个httpd服务启动脚本<br>
			[root@web-server01~/script]# vim httpd_start.sh <br>
			# check http server start|stop|starus<br>
			# by author rivers on 2021-9-27<br>
			while true<br>
			do<br>
			    &nbsp;&nbsp;&nbsp;&nbsp;echo -e "<br>
			    &nbsp;&nbsp;&nbsp;&nbsp;\033[31m start \033[0m<br>
			    &nbsp;&nbsp;&nbsp;&nbsp;\033[32m stop \033[0m <br>
			    &nbsp;&nbsp;&nbsp;&nbsp;\033[33m status \033[0m<br>
			    &nbsp;&nbsp;&nbsp;&nbsp;\033[34m quit \033[0m <br>
			"<br>
			read -p "请输入你的选择start|stop|quit：" char<br>
			case $char in<br>
			start)<br>
			    &nbsp;&nbsp;&nbsp;&nbsp;systemctl start httpd && echo "httpd服务已经开启" || echo "开启失败"<br>
			;;<br>
			stop)<br>
			    &nbsp;&nbsp;&nbsp;&nbsp;systemctl stop httpd && echo "httpd服务已经关闭" || echo "关闭失败"<br>
			;;<br>
			restart)<br>
			    &nbsp;&nbsp;&nbsp;&nbsp;systemctl restart httpd && echo "httpd服务已经重启" || echo "重启失败<br>
			"<br>
			;;<br>
			status)<br>
			    &nbsp;&nbsp;&nbsp;&nbsp;systemctl status httpd && echo -e "<br>
			      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  httpd 的服务状态<br>
			  
			;;<br>
			quit)<br>
			
			
		</div>
		
		
		
		
		<div class="message person-a">
		    <div class="name">明明</div>
		   你干嘛~唉哟~ 一下子讲这么多，不知道我是小菜只因吗
		
		</div>
		
		<div class="message person-b">
		    <div class="name">白白</div>
		   好好学完就不是小菜只因了，加油。下面讲那个那个那个select奥<br>
		   #select 是一个类似于 for 循环的语句<br>
		   #Select语句一般用于选择，常用于选择菜单的创建，可以配合PS3来做打印菜单的输出信息，其语法格式以select…in do开头，done结尾：<br>
		   
		   select i in （表达式）<br> 
		   do<br>
		   语句<br>
		   done<br>
		   
		   # 选择mysql 版本<br>
		   #!/bin/bash<br>
		   # by author rivers on 2021-9-27<br>
		   PS3="Select a number: "<br>
		   while true; do<br>
		   select mysql_version in 5.1 5.6 quit;<br>
		    &nbsp;&nbsp;do<br>
		     &nbsp;&nbsp;&nbsp;&nbsp;case $mysql_version in<br>
		    &nbsp;&nbsp;&nbsp;&nbsp; 5.1)<br>
		     &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  echo "mysql 5.1"<br>
		        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break<br>
		        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ;;<br>
		    &nbsp;&nbsp;&nbsp;&nbsp; 5.6)<br>
		      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo "mysql 5.6"<br>
		        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  break<br>
		         &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ;;<br>
		     &nbsp;&nbsp;&nbsp;&nbsp;quit)<br>
		       &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit<br>
		      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ;;<br>
		    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *)<br>
		       &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo "Input error, Please enter again!"<br>
		        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break<br>
		   esac<br>
		    &nbsp;&nbsp;&nbsp;&nbsp;done<br>
		   done<br>

		
		</div>
		
		
		<div class="message person-a">
		    <div class="name">明明</div>
		   PS3是游戏机吗？索尼那个？（天真）
		</div>
		
		<div class="message person-b">
		    <div class="name">白白</div>
		   真是个小可爱...<br />&nbsp;PS3="Select a number: "：设置 PS3 环境变量，它用于定义 select 命令的提示信息，即在用户选择时显示的信息。
		</div>
		
		
		
		<div class="message person-b">
		    <div class="name"></div>
			使用select打印lnmp菜单栏，你一定很想学
		   </div>
		<div class="message person-a">
		    <div class="name">明明</div>
			我想...(话音未落)
		   </div>
		<div class="message person-b">
		    <div class="name">白白</div>
			好了我知道你想学，别客气<br />
			打印lnmp选择菜单<br /><br />
			#!/bin/bash<br />
			#by author rivers on 2021-9-27<br />
			PS3="Please enter you select install menu:"<br />
			select i in http php mysql quit<br />
			do<br />
			case $i in<br />
			        &nbsp;&nbsp;&nbsp;&nbsp; http)<br />
			        &nbsp;&nbsp;&nbsp;&nbsp; echo -e "<br />
			                \033[31m Test Httpd \033[0m" <br />
			         &nbsp;&nbsp;&nbsp;&nbsp;;;<br />
			        &nbsp;&nbsp;&nbsp;&nbsp; php)<br />
			        &nbsp;&nbsp;&nbsp;&nbsp; echo  -e "\033[32m Test PHP\033[0m"<br />
			        &nbsp;&nbsp;&nbsp;&nbsp; ;;<br />
			        &nbsp;&nbsp;&nbsp;&nbsp; mysql)<br />
			        &nbsp;&nbsp;&nbsp;&nbsp; echo -e "\033[33m Test MySQL.\033[0m"<br />
			        &nbsp;&nbsp;&nbsp;&nbsp; ;;<br />
			        &nbsp;&nbsp;&nbsp;&nbsp; quit)<br />
			        &nbsp;&nbsp;&nbsp;&nbsp; echo -e "\033[32m The System exit.\033[0m"<br />
			        &nbsp;&nbsp;&nbsp;&nbsp; exit<br />
			esac<br />
			done<br />
			

		   </div>
		
		<div class="message person-a">
		    <div class="name">明明</div>
			这就是知识投喂吗？
		
		   </div>
		   
		   
		   <div class="message person-b">
		       <div class="name">白白</div>
		   	是滴！够不够孩子！
		   
		      </div>
		      
			  <div class="message person-a">
			      <div class="name">明明</div>
			  够了老师，谢谢老师，我以后一定会报复你的。
			  
			     </div>
			  
		   
		   <div class="message person-b">
		       <div class="name">白白</div>
		有空再学学语文吧...<br />
			<br />
			下面进行shell函数<br />
		  # Shell允许将一组命令集或语句形成一个可用块，这些块称为Shell函数，Shell函数的用于在于只需定义一次，后期随时使用即可，无需在Shell脚本中添加重复的语句块，其语法格式以function name（）{开头，以}结尾。
		  <br />
		  # Shell编程函数默认不能将参数传入（）内部，Shell函数参数传递在调用函数名称传递，例如name args1 args2。<br /><br />
		  
		  # 函数语法<br /><br />
		  func() {<br />
		  command1<br />
		  command1<br />
		  ……<br />
		  }<br /><br />
		  fun  # 直接调用函数名<br />
		  # Shell 函数很简单，函数名后跟双括号，再跟双大括号。通过函数名直接调用，不加小括号。<br />
		  #!/bin/bash<br />
		  func() {<br /><br />
			  
		  VAR=$((1+1))<br />
		  return $VAR<br />
		  echo "This is a function."<br />
		  }<br />
		  func<br />
		  echo $?<br />
		  # bash test.sh <br />
		  2<br />

		      </div>
		<div class="message person-a">
		    <div class="name">明明</div>
			还有shell数组（期待）
		   </div>
		<div class="message person-b">
		       <div class="name">白白</div>
		   	# 数组是相同类型的元素按一定顺序排列的集合。<br />
		   	格式：array=(元素 1 元素 2 元素 3 ...)<br />
		   	用小括号初始化数组，元素之间用空格分隔。<br />
		   	 定义方法 1：初始化数组 array=(a b c)<br />
		   	 定义方法 2：新建数组并添加元素 array[下标]=元素<br />
		   	 定义方法 3：将命令输出作为数组元素array=($(command))<br />
		   	

		      </div>
			  
			  <div class="message person-b">
			         <div class="name"></div>
			     	但是有个遍历数组元素的案例，不是很想讲，这个嗓子啊（手掌捂嘴）
			  
			        </div>
			<div class="message person-a">
			    <div class="name">明明</div>
				老师，我只有5个Q币了
			   </div>  
		<div class="message person-b">
		       <div class="name">白白</div>
			   谢谢你的Q币。<br /><br />
		   	#方法 1：<br />
		   	#!/bin/bash<br />
		   	IP=(10.0.0.1 10.0.0.2 10.0.0.3)<br />
		   	for ((i=0;i<${#IP[*]};i++)); do<br />
		   	echo ${IP[$i]}<br />
		   	done<br />
		   	# bash test.sh<br />
		   	10.0.0.1<br />
		   	10.0.0.2<br />
		   	10.0.0.3<br />
		   	<br />
		   	#方法 2：<br />
		   	#!/bin/bash<br />
		   	IP=(10.0.0.1 10.0.0.2 10.0.0.3)<br />
		   	for   IP   in ${IP[*]}; do<br />
		   	echo $IP<br />
		   	done <br />

		      </div>
			  
			  
			  <div class="message person-b">
			         <div class="name"></div>
			  	   
			     	到现在，shell编程流程控制语句已经讲完
			        </div>
					
					
					<div class="message person-a">
					    <div class="name">明明</div>
						呜呜 终于讲完了
					   </div>
		<div class="message person-b">
		       <div class="name">白白</div>
			   
		   	读者们！愤怒吧！呐喊吧！战斗吧！塔塔开！献出心脏！接下来！让我们向shell编程实战进攻！<br />
		      </div>
		<div class="message person-a">
		    <div class="name">明明</div>
			是不是忘记吃药了（小声bb）
		   </div>
		   
		   <div class="message person-b">
		          <div class="name">白白</div>
		   	第一个，shell脚本实战之系统备份脚本<br><br>
			Tar工具全备、增量备份网站,Shell脚本实现自动打包备份<br>
		         </div>
				 
			<div class="message person-b">
			       <div class="name"></div>
				#!/bin/bash<br />
				#Auto Backup Linux System Files<br />
				#by author rivers on 2021-09-28<br />
				
				SOURCE_DIR=(<br />
				    &nbsp;&nbsp;&nbsp;&nbsp;$*<br />
				)<br />
				TARGET_DIR=/data/backup/<br />
				YEAR=`date +%Y`<br />
				MONTH=`date +%m`<br />
				DAY=`date +%d`<br />
				WEEK=`date +%u`<br />
				A_NAME=`date +%H%M`<br />
				FILES=system_backup.tgz<br />
				CODE=$?<br /><br />
				if<br />
				    &nbsp;&nbsp;&nbsp;&nbsp;[ -z "$*" ]；then<br />
				   &nbsp;&nbsp;&nbsp;&nbsp; echo -e "\033[32mUsage:\nPlease Enter Your Backup Files or 
				   Directories\n--------------------------------------------\n\nUsage: { $0 /boot /etc}\033[0m"<br />
				   &nbsp;&nbsp;&nbsp;&nbsp; exit<br /><br />
				fi<br />
				#Determine Whether the Target Directory Exists<br />
				if<br />
				   &nbsp;&nbsp;&nbsp;&nbsp; [ ! -d $TARGET_DIR/$YEAR/$MONTH/$DAY ]；then<br />
				   &nbsp;&nbsp;&nbsp;&nbsp; mkdir -p $TARGET_DIR/$YEAR/$MONTH/$DAY<br />
				   &nbsp;&nbsp;&nbsp;&nbsp; echo -e "\033[32mThe $TARGET_DIR Created Successfully !\033[0m"<br /><br />
				fi<br />
				#EXEC Full_Backup Function Command<br /><br />
				Full_Backup()<br />
				

			      </div>
				<div class="message person-b">
				       <div class="name"></div>
					{<br /><br />
					if<br />
					   &nbsp;&nbsp;&nbsp;&nbsp; [ "$WEEK" -eq "7" ]；then<br />
					   &nbsp;&nbsp;&nbsp;&nbsp; rm -rf $TARGET_DIR/snapshot<br />
					   &nbsp;&nbsp;&nbsp;&nbsp; cd $TARGET_DIR/$YEAR/$MONTH/$DAY ；tar -g $TAR
					   GET_DIR/snapshot -czvf $FILES ${SOURCE_DIR[@]}<br />
					   &nbsp;&nbsp;&nbsp;&nbsp; [ "$CODE" == "0" ]&&echo -e  "---------------
					   -----------------------------\n\033[32mThese Full_Backup System Files Backup Successfully !\033[0m"<br /><br />
					fi<br />
					}<br />
					#Perform incremental BACKUP Function Command<br />
					Add_Backup()<br />
					{<br />
					   &nbsp;&nbsp;&nbsp;&nbsp;if<br />
					      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  [ $WEEK -ne "7" ]；then<br />
					       &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cd $TARGET_DIR/$YEAR/$MONTH/$DAY 
						   ；tar -g $TARGET_DIR/snapshot -czvf $A_NAME$FILES ${SOURCE_DIR[@]}<br />
					       &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [ "$CODE" == "0" ]&&ec
						   ho -e  "-----------------------------------------\n\033[32mThese Add_Backup System
							Files $TARGET_DIR/$YEAR/$MONTH/$DAY/${YEAR}_$A_NAME$FILES Backup Successfully !\033[0m"<br />
					&nbsp;&nbsp;&nbsp;&nbsp;   fi<br />
					}<br />
					sleep 3 <br />
					Full_Backup；Add_Backup<br />
					
				      </div>		
		
		
		<div class="message person-a">
		    <div class="name">明明</div>
			这个脚本的主要功能是什么，以及它是如何执行的？
		   </div>
		   
		<div class="message person-b">
		    <div class="name">白白</div>
			这个脚本的主要功能是自动备份 Linux 系统文件。
			它通过指定的源目录（SOURCE_DIR）将文件备份到目标目录（TARGET_DIR）下的日期目录中，同时支持全量备份和增量备份，有效管理和保护系统数据。。
			
			</div>  
			 
			 <div class="message person-a">
			     <div class="name">明明</div>
			 	扫噶！
			    </div>
				
				
				
		<div class="message person-b">
		    <div class="name">白白</div>
		接下来！shell脚本实战之一键部署Inmp架构。
			</div>  	
				
				<div class="message person-b">
				    <div class="name"></div>
				[root@web-server01~/script]# vim lnmp.sh <br />
				#!/bin/bash<br />
				#install lnmp<br />
				#by author rivers on 2021-9-28<br /><br />
				
				# nginx 环境准备<br />
				Nginx_url=https://nginx.org/download/nginx-1.20.1.tar.gz<br />
				Nginx_prefix=/usr/local/nginx<br /><br />
				
				# mysql 环境准备<br />
				Mysql_version=mysql-5.5.20.tar.gz<br />
				Mysql_dir=mysql-5.5.20<br />
				Mysql_url=https://downloads.mysql.com/archives/get/p/23/file/mysql-5.5.20.tar.gz<br />
				Mysql_prefix=/usr/local/mysql/<br />
				<br />
				# php 环境准备<br />
				Php_version=php-7.2.10.tar.gz<br />
				Php_prefix=/usr/local/php-7.2.10/<br /><br />
				
				
				</div>  
				
				
				<div class="message person-b">
				    <div class="name"></div>
				
				
				function nginx_install(){<br /><br />
				
				if [[ "$1" -eq "1" ]];then<br />
				      &nbsp;&nbsp;&nbsp;&nbsp;  if [ $? -eq 0 ];then<br />
				            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    make && make install<br />
				      &nbsp;&nbsp;&nbsp;&nbsp;  fi<br /><br />
				
				fi<br />
				}<br /><br /><br />
				
				function mysql_install(){<br />
				if [[ "$1" -eq "2" ]];then<br />
				-DMYSQL_UNIX_ADDR=/tmp/mysql.sock \<br />
				-DMYSQL_DATADIR=/data/mysql \<br />
				-DSYSCONFDIR=/etc \<br />
				-DMYSQL_USER=mysql \<br />
				-DMYSQL_TCP_PORT=3306 \<br />
				-DWITH_XTRADB_STORAGE_ENGINE=1 \<br />
				-DWITH_INNOBASE_STORAGE_ENGINE=1 \<br />
				-DWITH_PARTITION_STORAGE_ENGINE=1 \<br />
				-DWITH_BLACKHOLE_STORAGE_ENGINE=1 \<br />
				-DWITH_MYISAM_STORAGE_ENGINE=1 \<br />
				-DWITH_READLINE=1 \<br />
				-DENABLED_LOCAL_INFILE=1 \<br />
				-DWITH_EXTRA_CHARSETS=1 \<br />
				-DDEFAULT_CHARSET=utf8 \<br />
				-DDEFAULT_COLLATION=utf8_general_ci \<br />
				-DEXTRA_CHARSETS=all \<br />
				              &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;   echo -e "\033[32mThe $Mysql_dir Server Install Success !\033[0m"<br />
				       &nbsp;&nbsp;&nbsp;&nbsp;  else<br />
				              &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;   echo -e "\033[32mThe $Mysql_dir Make or Make install ERROR,Please Check......"<br />
				                &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; exit 0<br />
				fi<br />
				/bin/cp support-files/my-small.cnf  /etc/my.cnf<br />
				/bin/cp support-files/mysql.server /etc/init.d/mysqld<br />
				chmod +x /etc/init.d/mysqld<br />
				chkconfig --add mysqld<br />
				chkconfig mysqld on<br />
				fi<br />
				}<br /><br />
				</div>
				
				
				<div class="message person-b">
				    <div class="name"></div>
				
				function php_install(){<br />
				if [[ "$1" -eq "3" ]];then<br />
				        &nbsp;&nbsp;&nbsp;&nbsp; if [ $? -eq 0 ];then<br />
				               &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;  make ZEND_EXTRA_LIBS='-liconv' && make install<br />
				if [[ "$1" -eq "3" ]];then<br />
				 wget $Php_url && tar xf $Php_version && cd $Php_dir && yum install &nbsp;&nbsp;&nbsp;&nbsp;  bxml2* bzip2* libcurl*  libjpeg* libpng* freetype* gmp* libm
				crypt* readline* libxslt* -y && ./configure --prefix=$Php_prefix --disable-fileinfo --enable-fpm --with-config-file-path=/etc --wi
				  -config-file-scan-dir=/etc/php.d --with-openssl --with-zlib --with-curl --enable-ftp --with-gd --with-xmlrpc --with-jpeg-dir --w
				ith-png-dir --with-freetype-dir --enable-gd-native-ttf --enable-mbstring --with-mcrypt=/usr/local/libmcrypt --enable-zip --enable-
				mysqlnd --with-mysqli=mysqlnd --with-pdo-mysql=mysqlnd --with-mysql-sock=/var/lib/mysql/mysql.sock --without-pear --enable-bcmath<br /><br />
				        &nbsp;&nbsp;&nbsp;&nbsp; if [ $? -eq 0 ];then<br />
				               &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;  make ZEND_EXTRA_LIBS='-liconv' && make install<br />
				                &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; echo -e "\n\033[32m-----------------------------------------------\033[0m"<br />
				               &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;  echo -e "\033[32mThe $Php_version Server Install Success !\033[0m"<br />
				     &nbsp;&nbsp;&nbsp;&nbsp;    else<br />
				              &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;   echo -e "\033[32mThe $Php_version Make or Make install ERROR,Please Check......"<br />
				                &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; exit 0<br />
				        &nbsp;&nbsp;&nbsp;&nbsp; fi<br />
				fi<br />
				}<br />

					</div>  	
		
					<div class="message person-b">
					    <div class="name"></div>
						PS3="Please enter you select install menu:"<br />
						select i in nginx mysql php quit<br />
						do<br />
						"lnmp.sh" 113L, 3516C written  <br />                                                                                 
						[root@web-server01~/script]# vim lnmp.sh <br />
						chkconfig --add mysqld<br />
						chkconfig mysqld on<br />
						fi<br />
						}<br />
						
						
						function php_install(){<br />
						if [[ "$1" -eq "3" ]];then<br />
						       &nbsp;&nbsp;&nbsp;&nbsp; if [ $? -eq 0 ];then<br />
						             &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   make ZEND_EXTRA_LIBS='-liconv' && make install<br />
						             &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   echo -e "\n\033[32m-----------------------------------------------\033[0m"<br />
						              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  echo -e "\033[32mThe $Php_version Server Install Success !\033[0m"<br />
						  &nbsp;&nbsp;&nbsp;&nbsp;      else<br />
						             &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   echo -e "\033[32mThe $Php_version Make or Make install ERROR,Please Check......"<br />
						             &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   exit 0<br />
						        &nbsp;&nbsp;&nbsp;&nbsp;fi<br />
						fi<br />
						}<br /><br />
						
						PS3="Please enter you select install menu:"<br />
						select i in nginx mysql php quit<br />
						do<br />
						
						case $i in<br />
						       &nbsp;&nbsp;&nbsp;&nbsp; nginx)<br />
						       &nbsp;&nbsp;&nbsp;&nbsp; nginx_install 1<br />
						       &nbsp;&nbsp;&nbsp;&nbsp; ;;<br />
						       &nbsp;&nbsp;&nbsp;&nbsp; mysql)<br />
						       &nbsp;&nbsp;&nbsp;&nbsp; mysql_install 2<br />
						       &nbsp;&nbsp;&nbsp;&nbsp; ;;<br />
						       &nbsp;&nbsp;&nbsp;&nbsp; php)<br />
						       &nbsp;&nbsp;&nbsp;&nbsp; php_install 3<br />
						       &nbsp;&nbsp;&nbsp;&nbsp; ;;<br />
						        &nbsp;&nbsp;&nbsp;&nbsp;quit)<br />
						        &nbsp;&nbsp;&nbsp;&nbsp;exit<br />
						esac<br />
						done<br />
						</div>  
				<div class="message person-a">
				    <div class="name">明明</div>
				    我的发！再讲讲这个代码是干啥的呗？
				</div>		
				<div class="message person-b">
				    <div class="name">白白</div>
				   脚本中的主要执行逻辑如下：<br />
				   
				   用户通过命令行选择安装菜单（Nginx、MySQL、PHP、退出）。<br />
				   根据用户选择，调用相应的安装函数。<br />
				   每个安装函数中，根据不同的组件，下载对应的压缩包、解压缩、配置编译参数、编译、安装，并输出相应的安装结果信息。<br />
				   使用 select 和 case 实现菜单选择，用户可以根据提示输入数字来选择安装的组件或退出。<br />
				   
				</div>	
						
				<div class="message person-b">
				    <div class="name"></div>
					那么到这里，本章节shell就到此为止了
					（手动播放bgm:see you again）<br /><br />
				  shell,是我们工作中很重要的一部分，在工作中充当着重要的角色。企业生产环境中，服务器规模成百上千，
				  如果依靠人工去维护和管理是非常吃力的，基于Shell编程脚本管理和维护服务器变得简单、从容，而且对企业自动化运维之路的建设起到极大的推动作用。<br /><br />
				  所以，家人们，不管是你看到哪里的书籍、资料、还是视频，每个老师讲的侧重点都不一样，但是基础是一样的，要想学好shell，需要反复动手写，
				  思考，理解shell 的精髓，才能掌握shell ,写好shell。<br />
				</div>			
						
					<div class="message person-a">
					    <div class="name">明明</div>
						呜呜呜 加油！
					
					</div>		
						
						
			</div>		
	<hr/>
		<hr/>
</body>
</html>